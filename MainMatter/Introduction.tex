%===================================================================================
% Chapter: Introduction
%===================================================================================
\chapter*{Introducción}\label{chapter:introduction}
\addcontentsline{toc}{chapter}{Introducción}
%===================================================================================

\qquad

Los primeros pasos en la recuperaci\'on de imágenes con un enfoque científico datan incluso antes del siglo \textbf{XVIII}. Pietro Edwards\cite{itwiki:PE}, quien dirigía la restauraci\'on de las pinturas p\'ublicas de Venecia, Italia, ten\'ia la intenci\'on de restaurar las obras de arte que atesoraba su ciudad lo m\'as fieles posible a su respectivo autor original.

Las obras de arte plasmadas sobre un lienzo, un mural o el techo de una catedral inevitablemente han de sufrir el paso del tiempo. A lo largo de los años se agrietan, pierden poco a poco el color o incluso pueden desprenderse algunas de sus partes. Es trabajo de un grupo de especialistas restaurar las mismas para que estas persistan a lo largo de la historia en un estado lo m\'as similar posible al resultado inmediato de su autor. Uno de los ejemplos m\'as famosos es el del mural pintado por Leonardo Da Vinci: \textit{La \'ultima cena} \cite{wiki:CR-TLS}, esta obra ha pasado varios ciclos de conservaci\'on-restauraci\'on en manos de diferentes personas que no han estado exentos de errores, lo cual ha llevado a que hoy en d\'ia se encuentre en un estado muy delicado. Aunque con la tecnología actual se logr\'o frenar su continuo deterioro existen medidas muy estrictas para su exhibición al p\'ublico.

Algo similar ocurre con esas fotos que nos legaron nuestros abuelos y padres, en no pocas ocasiones se dañan al ser dobladas o por su exposici\'on a la humedad, en los casos m\'as cr\'iticos si se quieren recuperar se deben someter a un proceso cuidadoso de restauraci\'on. Hoy en d\'ia con la llegada de la era digital y el establecimiento del Internet, las fotos que le dejaremos a nuestros hijos ser\'an en su mayor\'ia digitales. Las im\'agenes digitales no se deterioran físicamente, el \'unico daño al que est\'an expuestas es a su posible eliminaci\'on o se corrompa el archivo digital, lo cual no constituye una amenaza pues al ser subidas al Internet se crean suficientes copias de seguridad para evitar su p\'erdida. Por ende todos nuestros recuerdos, obras de artes, y todo tipo de datos se encuentran a salvo de forma digital en Internet y se conservar\'an en su estado original para la eternidad.

Debido a que una imagen digital se encuentra representada en forma de matriz ha permitido la aplicaci\'on de resultados matem\'aticos y de la computaci\'on que mejoran considerablemente la calidad de la imagen restaurada. Sin embargo con las nuevas tecnolog\'ias surgen nuevas y \'utiles aplicaciones de la restauraci\'on de im\'agenes. Cuando se quiere eliminar un objeto, texto o persona, estas zonas se consideran como las partes faltantes y se restaura la imagen. Otra aplicaci\'on es para la compresi\'on, si se desea enviar un volumen considerable de imágenes por la red y no se quiere cargar la misma, una solución es solo enviar por cada imagen un conjunto de p\'ixeles representativo, lo que reduce considerablemente la cantidad de informaci\'on; entonces el remitente de estos realiza un proceso de restauraci\'on con cada conjunto para obtener las imágenes originales. Otras aplicaciones giran entorno a defectos inherentes a la imagen original, defectos que surgen comúnmente en el momento de tomar la imagen, ya sea ruido, objetos en movimiento, brillo intenso en algunas zonas, planos desenfocados, emborronamiento, entre otros factores que hacen que no se obtenga una resultado fiel al espacio físico real que se desea capturar. Hay que tener en cuenta que la mayor\'ia de las aplicaciones a im\'agenes son extensibles a los vídeos, pues estos no son mas que una sucesión de imágenes consecutivas.

La restauraci\'on de im\'agenes digitales pertenece a un campo m\'as general, conocido como procesamiento de im\'agenes en el cual est\'an presenten otras tareas como la de clasificaci\'on, extracci\'on de informaci\'on, reconocimiento de patrones, etc. En el mundo de la medicina resultan muy \'utiles los avances en este campo de investigaci\'on, pues es posible detectar fen\'omenos en las im\'agenes que resultan difíciles de encontrar con la percepción del ojo humano; lo cual en muchos casos facilita el diagn\'ostico de patologías en una fase muy temprana, y esto a su vez se traduce en muchas vidas salvadas. En el trabajo \cite{afals2016tesis} realizado en nuestra facultad se puede evidenciar la aplicaci\'on a la medicina del procesamiento de im\'agenes.

En el caso espec\'ifico de la recuperaci\'on, esta puede ayudar con otras problemáticas de las im\'agenes m\'edicas, las cuales no est\'an exentas de los defectos inherentes al aparato con que se captura la imagen o causados por las condiciones en que se encuentra la zona del cuerpo que se desea diagnosticar; se ha de tener en cuenta que gran parte de estas fotograf\'ias se toman en el interior del organismo donde no llega la luz natural y por el cual fluyen l\'iquidos y fluidos varios. Los defectos m\'as comunes son zonas oscuras, brillo intenso que se refleja sobre algunos tejidos h\'umedos, desenfocado o emborronamiento de algunas zonas; es donde la restauraci\'on de esas partes afectadas juega un rol importante para que el especialista pueda evaluar mejor la situaci\'on del paciente. Tenemos como ejemplos los trabajos \cite{dgomez2018tesis,apalmer2015tesis}, realizados en nuestra facultad y que ofrecen propuestas para la eliminaci\'on regiones especulares en imágenes colposcópicas de cuello de útero.

\section*{Estado del Arte}

El problema de recuperaci\'on de im\'agenes (en ingl\'es \II) y el procesamiento de imágenes en general ha sido atacado de disimiles maneras. Con Inteligencia Artificial, haciendo uso del aprendizaje profundo; utilizando transformadas convenientes, filtros en una, dos o tres dimensiones; interpolaci\'on, clustering. Ya que una imagen se puede interpretar como una señal, muchas de esas t\'ecnicas son aplicables tambi\'en a otros tipos de señales como puede ser una audio o un electrocardiograma.

En \II, uno de los principales enfoques es aquel que comprende los m\'etodos de difusión o variacionales, cuyo principio es utilizar la informaci\'on de los p\'ixeles de la frontera de cada zona incompleta para propagarla a medida que se rellena cada uno. En \cite{ballester2001variational} se hace uso de un modelo variacional para su uso en im\'agenes a color y en escala de grises; en \cite{chan2001nontexture} se usa un modelo de difusión; y en \cite{telea2004image} una t\'ecnica basada en el m\'etodo de \textit{fast marching}. También se encuentran los métodos basados en ecuaciones en derivadas parciales (PDE), unos de los m\'as utilizados; donde se destacan los desarrollados por Bertalmío \cite{bertalmio2001navier,bertalmio2000image}, que utilizan las ecuaciones de la dinámica de fluidos o la ecuación de difusión del calor para propagar la intensidad de los píxeles de la frontera hacia las regiones faltantes. Este enfoque es efectivo para conservar la estructura de los objetos de la imagen, por ejemplo, para conservar los bordes; \'util cuando cada una de zonas incompletas no tienen mucha área, sino pequeñas o delgadas zonas.

El otro enfoque consiste en aquellos m\'etodos basados en ejemplares, los cuales propagan la informaci\'on a nivel de parches utilizando t\'ecnicas de sintetizaci\'on de texturas. Los trabajos \cite{ashikhmin2001synthesizing,garber1981computational,liang2001real} muestran el uso de la s\'intesis de texturas. Se conocen esfuerzos por agregar de alguna forma la conservaci\'on de la estructura a este enfoque, en \cite{li2014image} se realiza una segmentaci\'on previa que delimita las texturas y luego se realiza la propagaci\'on de forma independiente en cada regi\'on. Lo anterior tambi\'en se consigue en \cite{criminisi2003object, wang2011image} d\'andole diferentes prioridades a las direcciones en que se realiza la propagaci\'on desde la frontera, el nivel de conservaci\'on de la estructura depender\'a de la correcta elecci\'on de estas prioridades.

El presente trabajo se plantea la implementaci\'on de una propuesta de \II\quad basada en el uso de los parches de la imagen. Recientemente los trabajos \cite{buades2005review,chatterjee2009clustering,yu2010image,yu2011solving,dong2011image,dong2011sparsity,zoran2011learning,elad2006image,mairal2007sparse,mairal2009non,zeyde2010single,dabov2007image,li2008patch} de procesamiento de im\'agenes que usan los parches locales han demostrado que sus resultados son altamente efectivos. En estos trabajos y en caso de muchos otros la idea clave gira entorno a extraer todos los parches de la imagen (incluyendo los solapamientos), estos son considerablemente pequeños comparados con el tamaño de la imagen en cuesti\'on. El procedimiento consisten en operar con los parches explotando sus interrelaciones (en ocasiones s\'olo en su p\'ixel central) y finalmente recolocarlos de vuelta a la imagen generando as\'i una imagen recuperada.

Existen varias formas en las cuales se pueden tomar en cuenta las relaciones entre los parches: promedio con pesos de los p\'ixeles con parches similares en su vecindad, parecido a como el algoritmo \textit{NL-Means} funciona \cite{buades2005review}. Tambi\'en, agrupando los parches en conjuntos disjuntos y analizando cada conjunto de forma diferenciada, como en \cite{chatterjee2009clustering,yu2010image,yu2011solving,dong2011image,dong2011sparsity,zoran2011learning}. Buscar un diccionario representativo de los parches para representarlos de forma esparcida como se hizo en \cite{elad2006image,mairal2007sparse,mairal2009non,zeyde2010single}. Encontrando grupos similares de parches y aplicarles a estos una transformada \textit{sparce} \cite{mairal2009non,dabov2007image,li2008patch}. En \cite{ram2011generalized,ram2012redundant} se propone otro m\'etodo basado en parches que usa una transformada de wavelet.

\section*{Sobre este trabajo}

En el cap\'itulo \ref{chapter:ImIp} se dar\'an los conceptos y nociones para entender el funcionamiento del algoritmo que se presenta en el cap\'itulo \ref{chapter:PRA}. En el \ref{chapter:PRA} presentaremos el esquema de funcionamiento del algoritmo de ordenamiento suave de los parches as\'i como su pseudoc\'odigo. En el cap\'itulo \ref{chapter:CODE} se expondr\'an todos los detalles de la implementaci\'on de dicho algoritmo para luego en el siguiente cap\'itulo  arrojar sus resultados. En el \ref{chapter:RESULTS} se muestran el fruto de dos lineas principales de experimentaci\'on, una donde se conoce la imagen real y otra con imágenes donde se desconoce. Finalmente se muestran las conclusiones del trabajo y basado en estas se dicen las recomendaciones.
